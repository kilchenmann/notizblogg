<html>
<title>Facebook Timeline Design with jquery and CSS</title>
<meta charset="utf-8">
<head>

	<link rel="stylesheet" type="text/css" href="../core/style/css/timeline.css">


</head>
<body>

<div id="container">

	<div class="timeline_container">
		<div class="timeline">
			<div class="plus"></div>
		</div>
	</div>

	<div class="item ">
		<div>Text 1</div>
	</div>
	<div class="item ">
		<div>Text 2: <br> Interaktivität wird immer wieder genannt, sobald Medieninhalte per Internet Protocol (IP) transportiert werden. [...] Grundsätzlich geht es für uns aber um den scheinbaren Konflikt zwischen Lean-Back und Lean-Forward. [...] sehen wir die Stärke des MediaCenter darin, dem Nutzer die Möglichkeit zu geben, je nach Lust und Laune zwischen den beiden Konsumformen zu wechseln.

			(Hoffmann, Robert: Unterhaltungs-Portal auf dem Fernseher, S. 379)</div>
	</div>
	<div class="item ">
		<div>Text 3</div>
	</div>


	<div id="popup" class='shade'>

		<div class="Popup_rightCorner" >	</div>
		<div id='box'>
			<b>What's Up?</b><br/>
			<textarea id='update'></textarea>
			<input type='submit' value=' Update ' id='update_button'/>
		</div>

	</div>
</div>


</div>
<script src="../core/lib/jquery-1.10.2.min.js"></script>
<script src="../core/bin/js/jquery.masonry.min.js"></script>

<script>
	$(function(){


		function Arrow_Points()
		{
			var s = $('#container').find('.item');
			$.each(s,function(i,obj){
				var posLeft = $(obj).css("left");
				$(obj).addClass('borderclass');
				if(posLeft == "0px")
				{
					html = "<span class='rightCorner'></span>";
					$(obj).prepend(html);
				}
				else
				{
					html = "<span class='leftCorner'></span>";
					$(obj).prepend(html);
				}
			});
		}

		$('.timeline_container').mousemove(function(e)
		{
			var topdiv=$("#containertop").height();
			var pag= e.pageY - topdiv-26;
			$('.plus').css({"top":pag +"px", "background":"url('core/style/img/timeline/plus.png')","margin-left":"1px"});}).
				mouseout(function()
				{
					$('.plus').css({"background":"url('')"});
				});




		$("#update_button").on('click',function()
		{
			var x=$("#update").val();
			$("#container").prepend('<div class="item"><a href="#" class="deletebox">X</a><div>'+x+'</div></div>');

//Reload masonry
			$('#container').masonry( 'reload' );

			$('.rightCorner').hide();
			$('.leftCorner').hide();
			Arrow_Points();

			$("#update").val('');
			$("#popup").hide();
			return false;
		});

// Divs
		$('#container').masonry({itemSelector : '.item',});
		Arrow_Points();

//Mouseup textarea false
		$("#popup").mouseup(function()
		{
			return false
		});

		$(".timeline_container").click(function(e)
		{
			var topdiv=$("#containertop").height();
			$("#popup").css({'top':(e.pageY-topdiv-33)+'px'});
			$("#popup").fadeIn();
			$("#update").focus();


		});


		$(".deletebox").on('click',function()
		{
			if(confirm("Are your sure?"))
			{
				$(this).parent().fadeOut('slow');
//Remove item
				$('#container').masonry( 'remove', $(this).parent() );
//Reload masonry
				$('#container').masonry( 'reload' );
				$('.rightCorner').hide();
				$('.leftCorner').hide();
				Arrow_Points();
			}
			return false;
		});



//Textarea without editing.
		$(document).mouseup(function()
		{
			$('#popup').hide();

		});


	});
</script>

</body>
</html>